<div class="wrapper d-flex flex-column h-100">
    <div class="row flex-grow-1">
        <div class="col-lg-12 text-center h-100">
            <mat-card appearance="outlined" class="bg-light h-100 d-flex flex-column">
                <mat-card-content class="flex-grow-1">
                    <div class="d-flex justify-content-between">
                        <h1><span class="text-dark fs-1 m-2">Profile Details</span></h1>

                    </div>
                    <div class="row justify-content-center">
                        <div class="col-lg-8" *ngIf="user">
                            <mat-card appearance="outlined" class="bg-light mb-4 p-2">
                                <mat-card-title class="fs-2 text-primary fw-bold">Hey!!! <span
                                        class="text-dark">{{user.username}}</span></mat-card-title>
                                <mat-card-content>
                                    <br>
                                    <p class="fs-4"><span class="text-primary">Email: </span>{{user.email}}</p><br>
                                    <div class="table-responsive">
                                        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                                            <ng-container matColumnDef="_id">
                                                <th mat-header-cell *matHeaderCellDef> Event Id </th>
                                                <td mat-cell *matCellDef="let element"> {{element._id}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="title">
                                                <th mat-header-cell *matHeaderCellDef> Title </th>
                                                <td mat-cell *matCellDef="let element"> {{element.title}} </td>
                                            </ng-container>


                                            <ng-container matColumnDef="participants">
                                                <th mat-header-cell *matHeaderCellDef> No. of Participants </th>
                                                <td mat-cell *matCellDef="let element"> {{element.participants.length}}
                                                </td>
                                            </ng-container>
                                            <ng-container matColumnDef="date">
                                                <th mat-header-cell *matHeaderCellDef> Date </th>
                                                <td mat-cell *matCellDef="let element"> {{element.date|date}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="location">
                                                <th mat-header-cell *matHeaderCellDef> Location </th>
                                                <td mat-cell *matCellDef="let element"> {{element.location}} </td>
                                            </ng-container>
                                            <ng-container matColumnDef="action">
                                                <th mat-header-cell *matHeaderCellDef> Action </th>
                                                <td mat-cell *matCellDef="let element"><button mat-fab extended
                                                        color="primary" (click)="view(element._id)">
                                                        <mat-icon>visibility</mat-icon>View
                                                    </button></td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                        </table>
                                    </div>
                                    <button mat-raised-button class="btn btn-primary mt-3" color="primary"
                                        (click)="updateProfile(user._id)">Update</button>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>